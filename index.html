<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>çŒ«ãªã§ã‚²ãƒ¼ãƒ </title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="game-container">
        <div class="header">
            <h1>ğŸ± çŒ«ãªã§ã‚²ãƒ¼ãƒ  ğŸ±</h1>
            <p class="game-description">ãƒã‚³ä»¥å¤–ã‚’æ’«ã§ãŸã‚‰ã‚²ãƒ¼ãƒ ã‚ªãƒ¼ãƒãƒ¼ï¼</p>
            <div class="header-buttons">
                <a href="howtoplay.html" class="howto-link">â“ éŠã³æ–¹</a>
                <button id="rankingBtn" class="ranking-btn">ğŸ† ãƒ©ãƒ³ã‚­ãƒ³ã‚°</button>
            </div>
            <div class="game-info">
                <div class="info-item">
                    <span class="label">ãƒ¬ãƒ™ãƒ«:</span>
                    <span id="level">1</span>
                </div>
                <div class="info-item">
                    <span class="label">ã‚¹ã‚³ã‚¢:</span>
                    <span id="score">0</span>
                </div>
                <div class="info-item">
                    <span class="label">æ®‹ã‚Šæ™‚é–“:</span>
                    <span id="timer">30</span>ç§’
                </div>
            </div>
        </div>

        <div class="game-board" id="gameBoard">
            <!-- 10å€‹ã®ç©´ -->
        </div>

        <div class="controls">
            <button id="startBtn" class="btn-start">ã‚²ãƒ¼ãƒ é–‹å§‹</button>
            <button id="cancelBtn" class="btn-cancel" style="display: none;">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</button>
        </div>

        <button id="resetBtn" class="reset-btn-bottom">ğŸ”„ æœ€åˆã‹ã‚‰</button>

        <div id="gameOverModal" class="modal hidden">
            <div class="modal-content">
                <h2 id="modalTitle">ã‚²ãƒ¼ãƒ ã‚ªãƒ¼ãƒãƒ¼</h2>
                <p id="modalMessage"></p>
                <p>åˆ°é”ãƒ¬ãƒ™ãƒ«: <span id="reachedLevel">1</span></p>
                <p>æœ€çµ‚ã‚¹ã‚³ã‚¢: <span id="finalScore">0</span></p>
                
                <div id="nameInputSection" class="name-input-section hidden">
                    <p>ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã«ç™»éŒ²ã—ã¾ã™ã‹ï¼Ÿ</p>
                    <input type="text" id="playerName" placeholder="åå‰ã‚’å…¥åŠ›" maxlength="10">
                    <button id="saveScoreBtn" class="btn-save">ç™»éŒ²</button>
                    <button id="skipSaveBtn" class="btn-skip">ã‚¹ã‚­ãƒƒãƒ—</button>
                </div>
                
                <button id="restartBtn" class="btn-restart">ã‚‚ã†ä¸€åº¦</button>
                
                <button id="playAgainBtn" class="btn-play-again-small hidden">ğŸ”„ ãƒªã‚»ãƒƒãƒˆ</button>
            </div>
        </div>

        <!-- ãƒ©ãƒ³ã‚­ãƒ³ã‚°ãƒ¢ãƒ¼ãƒ€ãƒ« -->
        <div id="rankingModal" class="modal hidden">
            <div class="modal-content ranking-modal-content">
                <h2>ğŸ† ãƒ©ãƒ³ã‚­ãƒ³ã‚° TOP 10</h2>
                <div id="rankingList" class="ranking-list"></div>
                <button id="closeRankingBtn" class="btn-restart">é–‰ã˜ã‚‹</button>
            </div>
        </div>

        <!-- ç´™å¹é›ªã‚¨ãƒ•ã‚§ã‚¯ãƒˆ -->
        <canvas id="confettiCanvas"></canvas>
    </div>

    <!-- Firebase SDK -->
    <script type="module">
        // Firebaseè¨­å®š
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getDatabase, ref, set, push, onValue, query, orderByChild, limitToLast } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js';

        const firebaseConfig = {
            apiKey: "AIzaSyCv-Zlj_WPTumm-rDKBRRQ_NGf_TF2WuEo",
            authDomain: "nekotaprank.firebaseapp.com",
            databaseURL: "https://nekotaprank-default-rtdb.asia-southeast1.firebasedatabase.app",
            projectId: "nekotaprank",
            storageBucket: "nekotaprank.firebasestorage.app",
            messagingSenderId: "1072092827346",
            appId: "1:1072092827346:web:b9d82688c0b1d53740a70b"
        };

        // Firebaseã‚’åˆæœŸåŒ–
        const app = initializeApp(firebaseConfig);
        const database = getDatabase(app);

        // ã‚°ãƒ­ãƒ¼ãƒãƒ«ã«å…¬é–‹
        window.firebaseDB = database;
        window.firebaseRef = ref;
        window.firebaseSet = set;
        window.firebasePush = push;
        window.firebaseOnValue = onValue;
        window.firebaseQuery = query;
        window.firebaseOrderByChild = orderByChild;
        window.firebaseLimitToLast = limitToLast;
    </script>

    <script src="script.js?v=10"></script>
</body>
</html>
